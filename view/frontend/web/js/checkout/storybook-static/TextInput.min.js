import{r as R,b as C,d as _,e as k,g as x,t as X,q as F,n as H,m as W,A as w,k as z,o as g}from"./vue.esm-bundler.min.js";import{a as P,b as D}from"./ConfigStore.min.js";import{E as G}from"./ErrorMessage.min.js";import{c as y,g as U}from"./adyen.min.js";import{_ as K}from"./_plugin-vue_export-helper.min.js";const Y=(e,n)=>{let t;return n==="email"?t=/^[\u0600-\u06FF\u0750-\u077F\u0400-\u04FF\u2E80-\u9FFF\w\s.@+_]*[^,#?][\u0600-\u06FF\u0750-\u077F\u0400-\u04FF\u2E80-\u9FFF\w\s.@+_]*$/:n==="tel"?t=/^[0-9+-]+$/:t=/^[\u0600-\u06FF\u0750-\u077F\u0400-\u04FF\u2E80-\u9FFF\w\s.,\-áéíóúÁÉÍÓÚàèìòùÀÈÌÒÙâêîôûÂÊÎÔÛãñõÃÑÕäëïöüÄËÏÖÜÿŸçÇ]*$/,t.test(e)};var J="Expected a function",j=0/0,Q="[object Symbol]",Z=/^\s+|\s+$/g,$=/^[-+]0x[0-9a-f]+$/i,ee=/^0b[01]+$/i,te=/^0o[0-7]+$/i,ne=parseInt,re=typeof y=="object"&&y&&y.Object===Object&&y,ae=typeof self=="object"&&self&&self.Object===Object&&self,oe=re||ae||Function("return this")(),ie=Object.prototype,se=ie.toString,le=Math.max,ue=Math.min,S=function(){return oe.Date.now()};function ce(e,n,t){var o,i,s,l,r,u,d=0,I=!1,f=!1,b=!0;if(typeof e!="function")throw new TypeError(J);n=B(n)||0,E(t)&&(I=!!t.leading,f="maxWait"in t,s=f?le(B(t.maxWait)||0,n):s,b="trailing"in t?!!t.trailing:b);function v(a){var c=o,m=i;return o=i=void 0,d=a,l=e.apply(m,c),l}function O(a){return d=a,r=setTimeout(p,n),I?v(a):l}function q(a){var c=a-u,m=a-d,T=n-c;return f?ue(T,s-m):T}function V(a){var c=a-u,m=a-d;return u===void 0||c>=n||c<0||f&&m>=s}function p(){var a=S();if(V(a))return M(a);r=setTimeout(p,q(a))}function M(a){return r=void 0,b&&o?v(a):(o=i=void 0,l)}function A(){r!==void 0&&clearTimeout(r),d=0,o=u=i=r=void 0}function N(){return r===void 0?l:M(S())}function h(){var a=S(),c=V(a);if(o=arguments,i=this,u=a,c){if(r===void 0)return O(u);if(f)return r=setTimeout(p,n),v(u)}return r===void 0&&(r=setTimeout(p,n)),l}return h.cancel=A,h.flush=N,h}function E(e){var n=typeof e;return!!e&&(n=="object"||n=="function")}function de(e){return!!e&&typeof e=="object"}function fe(e){return typeof e=="symbol"||de(e)&&se.call(e)==Q}function B(e){if(typeof e=="number")return e;if(fe(e))return j;if(E(e)){var n=typeof e.valueOf=="function"?e.valueOf():e;e=E(n)?n+"":n}if(typeof e!="string")return e===0?e:+e;e=e.replace(Z,"");var t=ee.test(e);return t||te.test(e)?ne(e.slice(2),t?2:8):$.test(e)?j:+e}var me=ce;const pe=U(me),ge="320px",ye="480px",be="640px",ve="768px",he="992px",xe="1024px",Fe="1440px",Se={screenXxs:ge,screenXs:ye,screenS:be,screenM:ve,screenMl:he,screenL:xe,screenXl:Fe};const L={name:"TextInput",components:{ErrorMessage:G},props:{modelValue:{type:String,default:""},dataCy:{type:String},placeholder:{type:String},label:{type:String},ariaLabel:{type:String},disabled:{type:Boolean,default:!1},required:{type:Boolean,default:!1},type:{type:String},borderColor:{type:String},error:{type:Boolean},errorMessage:{type:String,default:""},identifier:{type:String},onBlur:{type:Function,default:()=>{}},onFocus:{type:Function,default:()=>{}},autocomplete:{type:String,default:null}},setup(e){const n=R(e);return{classes:C(()=>({error:n.error})),style:C(()=>({borderColor:n.borderColor}))}},data(){return{inputVal:"",validationErrorMessage:"",isInputActive:!1}},computed:{...P(D,["inputsSanitiseError"])},methods:{customValidation(){const e=this.$refs.input.value,n=this.type,t=Y(e,n);this.identifier!=="password"&&(t?(this.$emit("update:modelValue",e),this.validationErrorMessage=""):(this.$emit("update:modelValue",e),this.validationErrorMessage=this.$t("errorMessages.sanitiseError")),this.$nextTick(()=>{this.inputsSanitiseError=document.querySelectorAll(".sanitise-error").length>0}))},moveIntoViewport(e){this.isInputActive=!0;const n=parseInt(Se.screenM,10);if(window.innerWidth>n)return;const{target:t}=e,o=t.closest(".text-input"),s=document.querySelector(".order-summary-container").getBoundingClientRect().height,l=window.scrollY,r=pe(()=>{const u=o.getBoundingClientRect();window.innerHeight-s<u.bottom&&window.scrollTo({top:u.bottom+l-(window.innerHeight-s),behavior:"smooth"}),window.removeEventListener("resize",r)},20);window.addEventListener("resize",r)}}},Ee=["for"],Ie=["id","autocomplete","type","placeholder","disabled","required","aria-label","data-cy","value"];function Ve(e,n,t,o,i,s){const l=z("ErrorMessage");return g(),_("div",{class:x(["text-input",{"custom-validation-error":i.validationErrorMessage!=="",...o.classes}])},[k("label",{for:t.identifier,class:x({"sanitise-error":i.validationErrorMessage!=="",...o.classes})},[t.label?(g(),_("span",{key:0,class:x(t.modelValue.length>0||i.isInputActive?"text-input-has-value":"text-input-no-value")},X(t.required?t.label+" *":t.label),3)):F("",!0),k("input",{id:t.identifier,ref:"input",autocomplete:t.autocomplete,style:H(o.style),type:t.type,placeholder:t.required?t.placeholder+" *":t.placeholder,disabled:t.disabled,required:t.required,"aria-label":t.ariaLabel,"data-cy":t.dataCy?t.dataCy:"input",value:t.modelValue,onBlur:n[0]||(n[0]=(...r)=>t.onBlur&&t.onBlur(...r)),onFocus:n[1]||(n[1]=r=>{s.moveIntoViewport(r),t.onFocus()}),onInput:n[2]||(n[2]=r=>e.$emit("update:modelValue",r.target.value)),onKeyup:n[3]||(n[3]=(...r)=>s.customValidation&&s.customValidation(...r))},null,44,Ie),W(e.$slots,"icon",{},void 0,!0)],10,Ee),t.errorMessage!==""?(g(),w(l,{key:0,message:t.errorMessage},null,8,["message"])):F("",!0),i.validationErrorMessage!==""?(g(),w(l,{key:1,message:i.validationErrorMessage},null,8,["message"])):F("",!0)],2)}const we=K(L,[["render",Ve],["__scopeId","data-v-491e0ec4"]]);L.__docgenInfo={displayName:"TextInput",exportName:"default",description:"",tags:{},props:[{name:"modelValue",type:{name:"string"},defaultValue:{func:!1,value:"''"}},{name:"dataCy",type:{name:"string"}},{name:"placeholder",type:{name:"string"}},{name:"label",type:{name:"string"}},{name:"ariaLabel",type:{name:"string"}},{name:"disabled",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"required",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"type",type:{name:"string"}},{name:"borderColor",type:{name:"string"}},{name:"error",type:{name:"boolean"}},{name:"errorMessage",type:{name:"string"},defaultValue:{func:!1,value:"''"}},{name:"identifier",type:{name:"string"}},{name:"onBlur",type:{name:"func"},defaultValue:{func:!0,value:"() => {}"}},{name:"onFocus",type:{name:"func"},defaultValue:{func:!0,value:"() => {}"}},{name:"autocomplete",type:{name:"string"},defaultValue:{func:!1,value:"null"}}],events:[{name:"update:modelValue",type:{names:["undefined"]}}],slots:[{name:"icon"}],sourceFiles:["/Users/allanehaenko/Projects/gene-checkout-dev/app/code/Gene/BetterCheckout/view/frontend/web/js/checkout/src/components/Core/ActionComponents/Inputs/TextInput/TextInput.vue"]};export{we as T};
